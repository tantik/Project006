!function(){var t=0,a={},i=0,n=$("<div id='darkbox_prev'/><div id='darkbox_next'/>").on("click",function(n){n.stopPropagation();var d="darkbox_next"===this.id;t=(d?t++:--t)<0?i-1:t%i,a.eq(t).click()}),d=$("<div/>",{id:"darkbox-description"}),o=$("<div/>",{id:"darkbox",html:n}).on("click",function(){$(this).removeClass("on")}).append(d).appendTo("body");$(document).on("click","[data-darkbox]",function(n){n.preventDefault(),n.stopPropagation(),a=$('[data-darkbox!=""][data-darkbox]'),i=a.length;var e=this,c=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),s=this.getBoundingClientRect(),h=this.dataset.darkbox?this.dataset.darkbox:this.src;h||(h=$("[data-darkbox!=''][data-darkbox]").attr("data-darkbox"));var k=new Image;k.onload=function(){t=a.index(e);var i=k.height>r||k.width>c;o.css({backfaceVisibility:"hidden",transition:"0s",backgroundImage:"url('"+k.src+"')",backgroundSize:i?"contain":"auto",left:s.left,top:s.top,height:e.height,width:e.width}),d.html($(e).attr("data-darkbox-description")),setTimeout(function(){o.hasClass("on")||o.css({transition:"0.8s"}).addClass("on")},35)},k.src=h}),$(document).on("keyup",function(t){var a=t.which;27===a&&$("#darkbox").click(),37===a&&$("#darkbox_prev").click(),39===a&&$("#darkbox_next").click()})}();